---
// ヘッダー用のスクリプトやpropsは現時点では不要
---
<header class="w-full flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 sticky top-0 z-50">
  <div class="font-bold text-xl text-indigo-600 dark:text-indigo-400">Taiga</div>
  <nav class="space-x-6 hidden md:block">
    <a href="#home" class="hover:underline nav-link" data-section="home">home</a>
    <a href="#about" class="hover:underline nav-link" data-section="about">about</a>
    <a href="#experience" class="hover:underline nav-link" data-section="experience">experience</a>
    <a href="#projects" class="hover:underline nav-link" data-section="projects">projects</a>
    <a href="#skills" class="hover:underline nav-link" data-section="skills">skills</a>
    <a href="#blog" class="hover:underline nav-link" data-section="blog">blog</a>
    <a href="#contact" class="hover:underline nav-link" data-section="contact">contact</a>
  </nav>

  <!-- ダークモード,ライトモード切り替えボタン -->
  <button id="theme-toggle" aria-label="Toggle Dark Mode"
  class="relative w-16 h-9 rounded-full bg-gray-300 dark:bg-gray-700 transition-colors duration-300 focus:outline-none">

    <!-- 内側のアイコンと丸 -->
    <div id="toggle-circle"
        class="absolute left-1 top-1 w-7 h-7 bg-white rounded-full shadow-md flex items-center justify-center transition-all duration-300">
      <svg id="theme-icon" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-yellow-500" fill="none" viewBox="0 0 24 24"
          stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M12 3v1m0 16v1m8.66-8.66h-1M4.34 12H3m15.36 6.36l-.7-.7M6.34 6.34l-.7-.7m12.02 0l-.7.7M6.34 17.66l-.7.7M12 5a7 7 0 100 14 7 7 0 000-14z"/>
      </svg>
    </div>
  </button>
  

   <script is:inline>
    window.addEventListener("DOMContentLoaded", () => {
      const links = document.querySelectorAll(".nav-link");
      const sections = Array.from(links).map(link =>
        document.querySelector(`#${link.dataset.section}`)
      );
  
      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const id = entry.target.id;
            links.forEach(link => {
              link.classList.toggle("active", link.dataset.section === id);
            });
          }
        });
      }, {
        threshold: 0.2, // ← 少し小さめに
        rootMargin: "0px" // ← トップ寄りで検出
      });
  
      sections.forEach(section => {
        if (section) observer.observe(section);
      });
    });
  </script>
  

<style>
  .nav-link {
    position: relative;
    padding-bottom: 4px;
    color: #cbd5e1; /* text-slate-300 相当 */
    transition: all 0.3s;
  }
  
  .nav-link.active {
    color: #3b82f6; /* text-blue-500 */
    font-weight: 600;
  }
  
  .nav-link.active::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0;
    height: 2px;
    width: 100%;
    background: linear-gradient(to right, #3b82f6, #8b5cf6);
    border-radius: 9999px;
  }
  </style>
  
  

</header> 