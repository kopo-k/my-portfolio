---
// src/components/Skills.astro
---
<section
  id="skills"
  class="animate-fade-in-up py-16 px-4
         bg-gradient-to-b from-white via-slate-50 to-white
         dark:bg-gradient-to-b dark:from-gray-900 dark:via-gray-800 dark:to-gray-900
         text-gray-900 dark:text-white
         transition-colors duration-300"
>
<div class="flex flex-col text-center mb-16">
  <div class="flex flex-col items-center justify-center gap-2">
    <h2 class="text-4xl font-bold text-gray-900 dark:text-white" data-translate="skills.title">Skills & Technologies</h2>
    <button
      id="skill-info-btn"
      class="flex items-center gap-1 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors text-sm"
      aria-label="スキル指標の説明"
    >
      <i data-lucide="help-circle" class="w-5 h-5"></i>
      <span data-translate="skills.info-label">スキル指標について</span>
    </button>
  </div>
  <div class="w-20 h-1 bg-gradient-to-r from-blue-600 to-purple-600 mx-auto mt-2 rounded-full"></div>
</div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
    <!-- Frontend -->
    <div class="dark:bg-[#1e293b] bg-[#e5f0fe] rounded-xl p-6">
      <div class="flex justify-center mb-4">
        <div class="bg-blue-600 p-3 rounded-xl">
          <i data-lucide="globe" class="text-white"></i>
        </div>
      </div>
      <h3 class="text-center text-xl font-semibold text-blue-400 mb-6" data-translate="skills.frontend">Frontend</h3>
      <ul class="space-y-3">
        <li>HTML / CSS <span class="float-right  dark:text-gray-300 text-[#717987]">80%</span>
          <div class="w-full h-2 dark:bg-gray-600 bg-[#e4e7eb] rounded-full">
            <div class="h-full bg-blue-500 rounded-full" style="width: 80%"></div>
          </div>
        </li>
        <li>JavaScript (ES6+) <span class="float-right  dark:text-gray-300 text-[#717987]">70%</span>
          <div class="w-full h-2 dark:bg-gray-600 bg-[#e4e7eb] rounded-full">
            <div class="h-full bg-blue-500 rounded-full" style="width: 70%"></div>
          </div>
        </li>
        <li>Tailwind CSS <span class="float-right  dark:text-gray-300 text-[#717987]">65%</span>
          <div class="w-full h-2 dark:bg-gray-600 bg-[#e4e7eb] rounded-full">
            <div class="h-full bg-blue-500 rounded-full" style="width: 65%"></div>
          </div>
        </li>
        <li><span data-translate="skills.react-learning">React（学習中）</span> <span class="float-right  dark:text-gray-300 text-[#717987]">50%</span>
          <div class="w-full h-2 dark:bg-gray-600 bg-[#e4e7eb] rounded-full">
            <div class="h-full bg-blue-500 rounded-full" style="width: 50%"></div>
          </div>
        </li>
      </ul>
    </div>

    <!-- Backend -->
    <div class="dark:bg-[#1e293b] bg-[#e7fcee] rounded-xl p-6 ">
      <div class="flex justify-center mb-4">
        <div class="bg-green-600 p-3 rounded-xl">
          <i data-lucide="database" class="text-white"></i>
        </div>
      </div>
      <h3 class="text-center text-xl font-semibold text-green-400 mb-6" data-translate="skills.backend">Backend</h3>
      <ul class="space-y-3 ">
        <li><span data-translate="skills.nodejs-basic">Node.js（基礎）</span> <span class="float-right dark:text-gray-300 text-[#717987]">50%</span>
          <div class="w-full h-2 dark:bg-gray-600 bg-[#e4e7eb] rounded-full">
            <div class="h-full bg-green-500 rounded-full" style="width: 50%"></div>
          </div>
        </li>
        <li><span data-translate="skills.express-basic">Express（基礎）</span> <span class="float-right dark:text-gray-300 text-[#717987]">40%</span>
          <div class="w-full h-2 dark:bg-gray-600 bg-[#e4e7eb] rounded-full">
            <div class="h-full bg-green-500 rounded-full" style="width: 40%"></div>
          </div>
        </li>
        <li>Go <span class="float-right  dark:text-gray-300 text-[#717987]">30%</span>
          <div class="w-full h-2 dark:bg-gray-600 bg-[#e4e7eb] rounded-full">
            <div class="h-full bg-green-500 rounded-full" style="width: 30%"></div>
          </div>
        </li>
        <li><span data-translate="skills.mongodb-firebase">MongoDB / Firebase</span> <span class="float-right  dark:text-gray-300 text-[#717987]">30%</span>
          <div class="w-full h-2 dark:bg-gray-600 bg-[#e4e7eb] rounded-full">
            <div class="h-full bg-green-500 rounded-full" style="width: 30%"></div>
          </div>
        </li>
      </ul>
    </div>

    <!-- Tools -->
    <div class="dark:bg-[#1e293b] bg-[#fff5e8] rounded-xl p-6">
      <div class="flex justify-center mb-4">
        <div class="bg-orange-600 p-3 rounded-xl">
          <i data-lucide="cloud" class="text-white"></i>
        </div>
      </div>
      <h3 class="text-center text-xl font-semibold text-orange-400 mb-6" data-translate="skills.tools">Tools & Dev</h3>
      <ul class="space-y-3">
        <li>Git / GitHub <span class="float-right  dark:text-gray-300 text-[#717987]">70%</span>
          <div class="w-full h-2 dark:bg-gray-600 bg-[#e4e7eb] rounded-full">
            <div class="h-full bg-orange-500 rounded-full" style="width: 70%"></div>
          </div>
        </li>
        <li>VS Code <span class="float-right  dark:text-gray-300 text-[#717987]">90%</span>
          <div class="w-full h-2 dark:bg-gray-600 bg-[#e4e7eb] rounded-full">
            <div class="h-full bg-orange-500 rounded-full" style="width: 90%"></div>
          </div>
        </li>
        <li><span data-translate="skills.figma-ui">Figma（UIデザイン入門）</span> <span class="float-right  dark:text-gray-300 text-[#717987]">50%</span>
          <div class="w-full h-2 dark:bg-gray-600 bg-[#e4e7eb] rounded-full">
            <div class="h-full bg-orange-500 rounded-full" style="width: 50%"></div>
          </div>
        </li>
        <li><span data-translate="skills.linux-basic">Linux 基本操作</span> <span class="float-right  dark:text-gray-300 text-[#717987]">40%</span>
          <div class="w-full h-2 dark:bg-gray-600 bg-[#e4e7eb] rounded-full">
            <div class="h-full bg-orange-500 rounded-full" style="width: 40%"></div>
          </div>
        </li>
      </ul>
    </div>

    <!-- Learning -->
    <div class="dark:bg-[#1e293b] bg-[#f8f2ff] rounded-xl p-6">
      <div class="flex justify-center mb-4">
        <div class="bg-purple-600 p-3 rounded-xl">
          <i data-lucide="code" class="text-white"></i>
        </div>
      </div>
      <h3 class="text-center text-xl font-semibold text-purple-400 mb-6" data-translate="skills.learning">Currently Learning</h3>
      <ul class="space-y-3">
        <li>TypeScript <span class="float-right  dark:text-gray-300 text-[#717987]">25%</span>
          <div class="w-full h-2 dark:bg-gray-600 bg-[#e4e7eb] rounded-full">
            <div class="h-full bg-purple-500 rounded-full dark:bg-purple-500 " style="width: 25%"></div>
          </div>
        </li>
        <li>Next.js <span class="float-right  dark:text-gray-300 text-[#717987]">20%</span>
          <div class="w-full h-2 dark:bg-gray-600 bg-[#e4e7eb] rounded-full">
            <div class="h-full bg-purple-500 rounded-full" style="width: 20%"></div>
          </div>
        </li>
        <li><span data-translate="skills.docker-intro">Docker 入門</span> <span class="float-right  dark:text-gray-300 text-[#717987]">15%</span>
          <div class="w-full h-2 dark:bg-gray-600 bg-[#e4e7eb] rounded-full">
            <div class="h-full bg-purple-500 rounded-full" style="width: 15%"></div>
          </div>
        </li>
        <li><span data-translate="skills.cloud-aws">Cloud（AWS / Firebase）</span> <span class="float-right  dark:text-gray-300 text-[#717987]">20%</span>
          <div class="w-full h-2 dark:bg-gray-600 bg-[#e4e7eb] rounded-full">
            <div class="h-full bg-purple-500 rounded-full" style="width: 20%"></div>
          </div>
        </li>
      </ul>
    </div>
  </div>

  <!-- Modal -->
  <div
    id="skill-modal"
    class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 transition-opacity"
  >
    <div class="bg-white dark:bg-gray-800 rounded-xl p-8 max-w-2xl mx-4 relative shadow-2xl">
      <button
        id="close-modal"
        class="absolute top-4 right-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"
      >
        <i data-lucide="x" class="w-6 h-6"></i>
      </button>

      <h3 class="text-2xl font-bold mb-6 text-gray-900 dark:text-white" data-translate="skills.modal.title">スキル指標について</h3>

      <div class="space-y-4 text-gray-700 dark:text-gray-300">
        <div class="flex items-start gap-3">
          <span class="font-semibold text-blue-600 dark:text-blue-400 min-w-[80px]">90-100%</span>
          <p data-translate="skills.modal.expert">3年以上の実務経験、他者に教えられるレベル</p>
        </div>
        <div class="flex items-start gap-3">
          <span class="font-semibold text-blue-600 dark:text-blue-400 min-w-[80px]">70-89%</span>
          <p data-translate="skills.modal.advanced">1-3年の実務経験、自律的に開発可能</p>
        </div>
        <div class="flex items-start gap-3">
          <span class="font-semibold text-green-600 dark:text-green-400 min-w-[80px]">50-69%</span>
          <p data-translate="skills.modal.intermediate">6ヶ月-1年の経験、基本的な実装が可能</p>
        </div>
        <div class="flex items-start gap-3">
          <span class="font-semibold text-orange-600 dark:text-orange-400 min-w-[80px]">30-49%</span>
          <p data-translate="skills.modal.beginner">学習中、チュートリアルレベルは理解</p>
        </div>
        <div class="flex items-start gap-3">
          <span class="font-semibold text-purple-600 dark:text-purple-400 min-w-[80px]">10-29%</span>
          <p data-translate="skills.modal.learning">入門段階、基礎を学習中</p>
        </div>
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/lucide@latest"></script>
  <script is:inline>
    window.onload = () => {
      if (window.lucide) window.lucide.createIcons();
    };

    // Modal functionality
    const modal = document.getElementById('skill-modal');
    const openBtn = document.getElementById('skill-info-btn');
    const closeBtn = document.getElementById('close-modal');

    openBtn?.addEventListener('click', () => {
      modal?.classList.remove('hidden');
      modal?.classList.add('flex');
    });

    closeBtn?.addEventListener('click', () => {
      modal?.classList.add('hidden');
      modal?.classList.remove('flex');
    });

    // Close modal when clicking outside
    modal?.addEventListener('click', (e) => {
      if (e.target === modal) {
        modal.classList.add('hidden');
        modal.classList.remove('flex');
      }
    });
  </script>
</section>
